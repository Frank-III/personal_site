---
import { getCollection, CollectionEntry } from "astro:content";
import Layout from "../../layouts/blogs.astro"
// component import

export async function getStaticPaths() {
  const Allblogs = await getCollection("blogs");

  return Allblogs.map((blog) => ({
    params: { slug: blog.slug },
    props: {
      blog,
    },
  }));
}

interface Props {
  blog: CollectionEntry<"blogs">;
}

const { blog } = Astro.props;
const { Content } = await blog.render();
---

<Layout content={blog}>
  <Content />
  <div class="tags flex">
      <p class="text-neutral-400 p-y[0.7rem] text-sm">Related Tags:</p>
      {
        blog.data.tags.map((tag) => (
          <p class="tag p-[0.5rem]">
            <a class="ll text-neutral-400 decoration-dashed underline font-semibold text-sm" href={`/personal_site/blogs/tags/${tag}`}>#{tag}</a>
          </p>
        ))
      }
  </div>
</Layout>