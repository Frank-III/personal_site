---
import type { blogg } from "../schemas";
import dayjs from "dayjs";
interface Props {
  blog: blogg;
  ishome: boolean;
}

const { blog, ishome } = Astro.props;
const commonClasses =
  "gradient-hover w-[100%] sm:w-[48%] bg-black/3 dark:bg-white/5 p-4 hover:scale-105 transition-transform duration-150 ease-in-out";
---

<a
  href={ishome ? "blogs/" + blog.url : blog.url}
  class={ishome
    ? `${commonClasses} inline-block rounded-lg`
    : `${commonClasses} relative rounded-xl`}
>
  {
    blog.pined && (
      <svg
        class="pined top-1 right-2 absolute ml-1 mt-1"
        width="32px"
        height="32px"
        viewBox="0 0 5.12 5.12"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        aria-hidden="true"
        role="img"
        class="iconify iconify--noto"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d="M1.771 3.081c0.025 -0.026 0.05 -0.05 0.077 -0.073 0.079 -0.066 0.284 -0.219 0.394 -0.156 0.066 0.038 0.056 0.164 0.032 0.216 -0.06 0.13 -0.212 0.239 -0.306 0.347 -0.074 0.086 -0.162 0.162 -0.242 0.242 -0.128 0.128 -0.251 0.272 -0.39 0.39 0 0 -0.852 0.72 -1.062 0.897 -0.026 0.022 -0.065 0.02 -0.09 -0.004 -0.024 -0.024 -0.026 -0.063 -0.004 -0.09L1.078 3.788c0.176 -0.176 0.352 -0.352 0.527 -0.528 0.056 -0.056 0.11 -0.121 0.166 -0.179z"
          fill="#82aec0"
        />
        <path
          d="M2.275 3.064c-0.028 -0.036 -0.059 -0.071 -0.093 -0.105 -0.035 -0.035 -0.072 -0.068 -0.109 -0.097 -0.089 0.037 -0.179 0.106 -0.225 0.145 -0.027 0.022 -0.052 0.047 -0.077 0.073 -0.056 0.059 -0.109 0.123 -0.166 0.179 -0.053 0.053 -0.107 0.107 -0.16 0.16 0 0 -0.01 0.082 0.084 0.176 0.094 0.094 0.172 0.086 0.172 0.086 0.008 -0.008 0.016 -0.017 0.025 -0.025 0.08 -0.08 0.168 -0.156 0.242 -0.242 0.093 -0.108 0.246 -0.217 0.306 -0.347 0 -0.001 0.001 -0.003 0.001 -0.004z"
          fill="#2f7889"
        />
        <path
          d="M1.632 3.264c-0.192 -0.206 -0.362 -0.43 -0.5 -0.662 -0.058 -0.098 -0.134 -0.292 -0.158 -0.478 -0.027 -0.213 0.13 -0.406 0.344 -0.426 0.262 -0.024 0.667 -0.015 0.961 0.202l0.946 -0.946 0.946 0.946 -0.946 0.946c0.217 0.294 0.226 0.698 0.203 0.96 -0.02 0.216 -0.218 0.373 -0.433 0.343 -0.195 -0.027 -0.399 -0.111 -0.499 -0.172 -0.31 -0.19 -0.606 -0.436 -0.864 -0.713z"
          fill="#f44336"
        />
        <path
          d="m2.111 2.034 1.114 -1.08s0.23 0.305 0.406 0.484c0.175 0.178 0.541 0.462 0.541 0.462L3.093 2.978s-0.398 0.037 -0.694 -0.259c-0.345 -0.345 -0.288 -0.685 -0.288 -0.685z"
          fill="#f44336"
        />
        <path
          d="M2.638 2.246c0.048 0.357 0.18 0.557 0.249 0.617 0.112 0.096 0.27 0.05 0.338 -0.017l0.946 -0.946s-0.366 -0.284 -0.541 -0.462 -0.405 -0.484 -0.405 -0.484L2.8 1.364c-0.075 0.072 -0.125 0.166 -0.141 0.268 -0.021 0.136 -0.06 0.315 -0.02 0.614z"
          fill="#c62828"
        />
        <path
          d="M3.155 0.221 2.735 0.64c-0.078 0.061 -0.081 0.139 -0.081 0.139 -0.043 0.241 0.192 0.685 0.596 1.09 0.404 0.404 0.849 0.639 1.09 0.596 0 0 0.064 0.005 0.126 -0.068l0.433 -0.433L3.155 0.221z"
          fill="#f44336"
        />
        <path
          d="M4.898 1.964c-0.171 0.194 -0.722 -0.058 -1.204 -0.54S2.972 0.404 3.155 0.221c0.183 -0.183 0.717 0.064 1.204 0.54 0.47 0.46 0.715 1.005 0.54 1.204z"
          fill="#f44336"
        />
        <path
          d="M2.134 2.053c-0.003 -0.154 -0.31 -0.338 -0.5 -0.181 -0.16 0.133 -0.096 0.416 -0.014 0.564 0.091 0.164 0.22 0.317 0.388 0.399 0.169 0.083 0.424 0.037 0.334 -0.128 -0.119 -0.219 -0.201 -0.323 -0.208 -0.654z"
          fill="#ff7555"
        />
        <path
          d="M3.698 1.334c0.765 0.752 1.044 0.608 1.1 0.565 0.039 -0.03 0.058 -0.083 0.062 -0.134 0.013 -0.134 -0.076 -0.372 -0.141 -0.487 -0.171 -0.299 -0.334 -0.477 -0.816 -0.839 -0.213 -0.16 -0.526 -0.254 -0.632 -0.16 -0.125 0.11 -0.138 0.499 0.428 1.055z"
          fill="#ff7555"
        />
      </svg>
    )
  }
  <img
    src={"/personal_site/images/" + blog.image}
    class={`w-full object-cover ${
      ishome ? "rounded-lg" : "rounded-md"
    } aspect-video mb-4`}
  />
  <div>
    <h2
      class="font-medium text-sm md:text-base text-black/150 dark:text-white/90"
    >
      {blog.title}
    </h2>
    <p
      class={`${
        ishome ? "text-xs" : "text-sm"
      } md:text-sm text-zinc-800 dark:text-white/40`}
    >
      {blog.description}
    </p>
    <p
      class={`${
        ishome ? "text-xs" : "text-sm"
      } text-zinc-600 dark:text-white/50 mt-2 text-right`}
    >
      {dayjs(blog.date, "YYYY-MM-DD").format("MM/DD/YYYY").toString()}
    </p>
  </div>
</a>

<style is:global>
  .gradient-hover {
    position: relative;
    display: inline-block;
    color: black;
    text-decoration: none;
    overflow: hidden;
  }

  .gradient-hover::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, #d04fdf 0%, #f5576c 100%);
    z-index: -1;
    transition: opacity 0.3s;
    opacity: 0;
  }

  .gradient-hover:hover::after {
    opacity: 0.3;
  }

  .dark .gradient-hover::after {
    background: none;
    transition: none;
  }

  .dark .gradient-hover:hover::after {
    opacity: 1;
  }
</style>
