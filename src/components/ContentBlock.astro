---
import type { blogg } from "../schemas";
import dayjs from "dayjs";
interface Props {
  blog: blogg;
  ishome: boolean;
}

const { blog, ishome } = Astro.props;
const svgClass = "top-1 right-2 absolute ml-1 mt-1";
const commonClasses =
  "gradient-hover w-[100%] sm:w-[48%] bg-black/3 dark:bg-white/5 p-4 hover:scale-105 transition-transform duration-150 ease-in-out";
---

<a
  href={ishome ? "blogs/" + blog.url : blog.url}
  class={ishome
    ? `${commonClasses} inline-block rounded-lg`
    : `${commonClasses} relative rounded-xl article`}
>
  {
    blog.pined && (
      <svg
        class={svgClass}
        width="32px"
        height="32px"
        viewBox="0 0 5.12 5.12"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
        role="img"
        preserveAspectRatio="xMidYMid meet"
      />
    )
  }
  <img
    src={"/personal_site/images/" + blog.image}
    class={`w-full object-cover ${
      ishome ? "rounded-lg" : "rounded-md"
    } aspect-video mb-4`}
  />
  <div>
    <h2
      class="font-medium text-sm md:text-base text-black/150 dark:text-white/90"
    >
      {blog.title}
    </h2>
    <p
      class={`${
        ishome ? "text-xs" : "text-sm"
      } md:text-sm text-zinc-800 dark:text-white/40`}
    >
      {blog.description}
    </p>
    <p
      class={`${
        ishome ? "text-xs" : "text-sm"
      } text-zinc-600 dark:text-white/50 mt-2 text-right`}
    >
      {dayjs(blog.date, "YYYY-MM-DD").format("MM/DD/YYYY").toString()}
    </p>
  </div>
</a>

<style is:global>
  .gradient-hover {
    position: relative;
    display: inline-block;
    color: black;
    text-decoration: none;
    overflow: hidden;
  }

  .gradient-hover::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, #d04fdf 0%, #f5576c 100%);
    z-index: -1;
    transition: opacity 0.3s;
    opacity: 0;
  }

  .gradient-hover:hover::after {
    opacity: 0.3;
  }

  .dark .gradient-hover::after {
    background: none;
    transition: none;
  }

  .dark .gradient-hover:hover::after {
    opacity: 1;
  }
</style>
